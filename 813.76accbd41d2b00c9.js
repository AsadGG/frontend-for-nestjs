"use strict";(self.webpackChunkfrontend_for_nestjs=self.webpackChunkfrontend_for_nestjs||[]).push([[813],{4813:(X,T,l)=>{l.r(T),l.d(T,{TasksModule:()=>H});var p=l(9808),h=l(3902),a=l(2382),t=l(1223),f=l(1343),O=l(520);let k=(()=>{class n{constructor(e){this.httpClient=e}createTask(e){return this.httpClient.post(f.i.createNewTask,e)}getAllTasks(e,o){return this.httpClient.get(f.i.getAllTasks(e,o))}deleteTaskById(e){return this.httpClient.delete(f.i.deleteTaskById(e))}updateTaskStatusById(e,o){return this.httpClient.patch(f.i.updateTasksStatusById(e),o)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(O.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var C=l(7562);let w=(()=>{class n{constructor(e,o,i){this.tasksService=e,this.router=o,this.ngxSpinnerService=i,this.createTaskForm=new a.cw({title:new a.NI("",[a.kI.required]),description:new a.NI("",[a.kI.required])})}ngOnInit(){}onCreateTask(){this.createTask(this.createTaskForm.value)}createTask(e){this.ngxSpinnerService.show(),this.tasksService.createTask(e).subscribe({next:r=>{this.ngxSpinnerService.hide(),console.log("response",r),this.router.navigateByUrl("/tasks")},error:r=>{this.ngxSpinnerService.hide(),console.debug("error",r)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k),t.Y36(h.F0),t.Y36(C.t2))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-task"]],decls:21,vars:2,consts:[[1,"container"],[1,"row","w-50"],[1,"box"],[1,"row"],[1,"col-12"],[1,"heading"],[1,"description"],[1,"from",3,"formGroup","ngSubmit"],[1,"my-3"],["for","title",1,"form-label"],["type","text","id","title","name","title","formControlName","title","placeholder","Title",1,"form-control"],["for","description",1,"form-label"],["rows","4","type","description","id","description","name","description","formControlName","description","placeholder","Description",1,"form-control"],["type","submit",1,"my-2","w-100","btn","btn-primary",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),t._uU(6," Create A New Task "),t.qZA()(),t.TgZ(7,"div",4)(8,"span",6),t._uU(9," Provide Information about the task you want to create. "),t.qZA()(),t.TgZ(10,"form",7),t.NdJ("ngSubmit",function(){return o.onCreateTask()}),t.TgZ(11,"div",8)(12,"label",9),t._uU(13,"Title"),t.qZA(),t._UZ(14,"input",10),t.qZA(),t.TgZ(15,"div",8)(16,"label",11),t._uU(17,"Description"),t.qZA(),t._UZ(18,"textarea",12),t.qZA(),t.TgZ(19,"button",13),t._uU(20," Create Task "),t.qZA()()()()()()),2&e&&(t.xp6(10),t.Q6J("formGroup",o.createTaskForm),t.xp6(9),t.Q6J("disabled",o.createTaskForm.invalid))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:1rem}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-weight:700;font-size:2rem;margin-block:1rem}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .form-control.ng-touched.ng-invalid[_ngcontent-%COMP%]{border-color:#fa0909;box-shadow:0 0 0 .25rem #fa090940}"],changeDetection:0}),n})();var v=l(1135),I=l(727);class Z extends I.w0{constructor(s,e){super()}schedule(s,e=0){return this}}const m={setInterval(n,s,...e){const{delegate:o}=m;return(null==o?void 0:o.setInterval)?o.setInterval(n,s,...e):setInterval(n,s,...e)},clearInterval(n){const{delegate:s}=m;return((null==s?void 0:s.clearInterval)||clearInterval)(n)},delegate:void 0};var A=l(8737);const _={now:()=>(_.delegate||Date).now(),delegate:void 0};class g{constructor(s,e=g.now){this.schedulerActionCtor=s,this.now=e}schedule(s,e=0,o){return new this.schedulerActionCtor(this,s).schedule(o,e)}}g.now=_.now;const J=new class D extends g{constructor(s,e=g.now){super(s,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(s){const{actions:e}=this;if(this._active)return void e.push(s);let o;this._active=!0;do{if(o=s.execute(s.state,s.delay))break}while(s=e.shift());if(this._active=!1,o){for(;s=e.shift();)s.unsubscribe();throw o}}}(class P extends Z{constructor(s,e){super(s,e),this.scheduler=s,this.work=e,this.pending=!1}schedule(s,e=0){if(this.closed)return this;this.state=s;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(s,e,o=0){return m.setInterval(s.flush.bind(s,this),o)}recycleAsyncId(s,e,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return e;m.clearInterval(e)}execute(s,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(s,e);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(s,e){let i,o=!1;try{this.work(s)}catch(r){o=!0,i=r||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:s,scheduler:e}=this,{actions:o}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,A.P)(o,this),null!=s&&(this.id=this.recycleAsyncId(e,s,null)),this.delay=null,super.unsubscribe()}}});var b=l(4482),y=l(5403);function x(n,s=J){return(0,b.e)((e,o)=>{let i=null,r=null,c=null;const u=()=>{if(i){i.unsubscribe(),i=null;const d=r;r=null,o.next(d)}};function G(){const d=c+n,M=s.now();if(M<d)return i=this.schedule(void 0,d-M),void o.add(i);u()}e.subscribe((0,y.x)(o,d=>{r=d,c=s.now(),i||(i=s.schedule(G,n),o.add(i))},()=>{u(),o.complete()},void 0,()=>{r=i=null}))})}var N=l(4671);function S(n,s=N.y){return n=null!=n?n:U,(0,b.e)((e,o)=>{let i,r=!0;e.subscribe((0,y.x)(o,c=>{const u=s(c);(r||!n(i,u))&&(r=!1,i=u,o.next(c))}))})}function U(n,s){return n===s}var B=function(){function n(){this._subs=[]}return n.prototype.add=function(){for(var s=[],e=0;e<arguments.length;e++)s[e]=arguments[e];this._subs=this._subs.concat(s)},Object.defineProperty(n.prototype,"sink",{set:function(s){this._subs.push(s)},enumerable:!0,configurable:!0}),n.prototype.unsubscribe=function(){this._subs.forEach(function(s){return s&&function(n){return"function"==typeof n}(s.unsubscribe)&&s.unsubscribe()}),this._subs=[]},n}();function q(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),t._uU(4),t.qZA()(),t.TgZ(5,"div",5)(6,"div",6),t._uU(7),t.qZA()(),t.TgZ(8,"div",7)(9,"select",8),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().task.status=i})("ngModelChange",function(i){return t.CHM(e),t.oxw().statusChange(i)}),t.TgZ(10,"option",9),t._uU(11,"Open"),t.qZA(),t.TgZ(12,"option",10),t._uU(13,"In Progress"),t.qZA(),t.TgZ(14,"option",11),t._uU(15,"Done"),t.qZA()(),t.TgZ(16,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteTask()}),t._uU(17," Delete "),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.task.title),t.xp6(3),t.Oqu(e.task.description),t.xp6(2),t.Q6J("ngModel",e.task.status)}}let E=(()=>{class n{constructor(){this.onDeleteTask=new t.vpe,this.onTaskStatusChange=new t.vpe}ngOnInit(){}deleteTask(){this.onDeleteTask.emit()}statusChange(e){this.onTaskStatusChange.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-item"]],inputs:{task:"task"},outputs:{onDeleteTask:"onDeleteTask",onTaskStatusChange:"onTaskStatusChange"},decls:1,vars:1,consts:[["class","box",4,"ngIf"],[1,"box"],[1,"row"],[1,"col-12","mb-2"],[1,"title"],[1,"col-12","mb-4"],[1,"description"],[1,"col-12","mb-2","d-flex","justify-content-between"],[1,"form-control","form-control-lg","w-25",3,"ngModel","ngModelChange"],["value","OPEN"],["value","IN_PROGRESS"],["value","DONE"],["type","button",1,"delete-button","btn","btn-danger",3,"click"]],template:function(e,o){1&e&&t.YNc(0,q,18,3,"div",0),2&e&&t.Q6J("ngIf",o.task)},directives:[p.O5,a.EJ,a.JJ,a.On,a.YN,a.Kr],styles:["[_nghost-%COMP%]   .box[_ngcontent-%COMP%]{background-color:#fff;padding:1rem;border-radius:1rem}[_nghost-%COMP%]   .box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem}[_nghost-%COMP%]   .box[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:1rem}"],changeDetection:0}),n})();function Y(n,s){1&n&&(t.TgZ(0,"div",2)(1,"div",3),t._uU(2,"No Tasks Available. Create One ?"),t.qZA()())}function R(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"app-task-item",7),t.NdJ("onDeleteTask",function(){const r=t.CHM(e).$implicit;return t.oxw(2).deleteTaskById(r.id)})("onTaskStatusChange",function(i){const c=t.CHM(e).$implicit;return t.oxw(2).taskStatusChangeById(c.id,i)}),t.qZA()(),t.BQk()}if(2&n){const e=s.$implicit;t.xp6(2),t.Q6J("task",e)}}function z(n,s){if(1&n&&(t.TgZ(0,"div",4),t.YNc(1,R,3,1,"ng-container",5),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.tasks)}}let L=(()=>{class n{constructor(e,o,i){this.tasksService=e,this.changeDetectorRef=o,this.ngxSpinnerService=i,this.tasks=[]}ngOnInit(){}deleteTaskById(e){this.ngxSpinnerService.show(),this.tasksService.deleteTaskById(e).subscribe({next:r=>{this.ngxSpinnerService.hide(),console.log("response",r),r.affected&&(this.tasks=this.tasks.filter(c=>c.id!==e),this.changeDetectorRef.markForCheck())},error:r=>{this.ngxSpinnerService.hide(),console.log("error",r)}})}taskStatusChangeById(e,o){const i={status:o};this.ngxSpinnerService.show(),this.tasksService.updateTaskStatusById(e,i).subscribe({next:u=>{this.ngxSpinnerService.hide(),console.log("response",u)},error:u=>{this.ngxSpinnerService.hide(),console.log("error",u)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k),t.Y36(t.sBO),t.Y36(C.t2))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tasks-list"]],inputs:{tasks:"tasks"},decls:2,vars:2,consts:[["class","no-task text-center",4,"ngIf"],["class","tasks",4,"ngIf"],[1,"no-task","text-center"],[1,"heading"],[1,"tasks"],[4,"ngFor","ngForOf"],[1,"task","my-3"],[3,"task","onDeleteTask","onTaskStatusChange"]],template:function(e,o){1&e&&(t.YNc(0,Y,3,0,"div",0),t.YNc(1,z,2,1,"div",1)),2&e&&(t.Q6J("ngIf",!o.tasks.length),t.xp6(1),t.Q6J("ngIf",o.tasks.length))},directives:[p.O5,p.sg,E],styles:["[_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#ebf3fd}"],changeDetection:0}),n})();const Q=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tasks"]],decls:2,vars:0,consts:[[1,"background"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},directives:[h.lC],styles:["[_nghost-%COMP%]   .background[_ngcontent-%COMP%]{background-color:#2f3e4a}"],changeDetection:0}),n})(),children:[{path:"",component:(()=>{class n{constructor(e,o,i){this.tasksService=e,this.changeDetectorRef=o,this.ngxSpinnerService=i,this.search="",this.searchChanged=new v.X(""),this.status="",this.statusChanged=new v.X(""),this.subscriptions=new B,this.tasks=[]}ngOnInit(){this.subscriptions.sink=this.searchChanged.pipe(x(500),S()).subscribe(e=>{this.search=e,this.getAllTasks(this.search,this.status)}),this.subscriptions.sink=this.statusChanged.pipe(x(500),S()).subscribe(e=>{this.status=e,this.getAllTasks(this.search,this.status)}),this.getAllTasks()}getAllTasks(e,o){this.ngxSpinnerService.show(),this.tasksService.getAllTasks(e,o).subscribe({next:c=>{this.ngxSpinnerService.hide(),console.log("response",c),this.tasks=c,this.changeDetectorRef.markForCheck()},error:c=>{this.ngxSpinnerService.hide(),console.debug("error",c)}})}searchChangedHandler(e){this.searchChanged.next(e)}statusChangedHandler(e){this.statusChanged.next(e)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k),t.Y36(t.sBO),t.Y36(C.t2))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-main"]],decls:23,vars:3,consts:[[1,"container","py-5"],[1,"row"],[1,"col-12","d-flex","justify-content-between"],[1,"heading"],["type","button","routerLink","create",1,"create-task-button","btn","btn-light","btn-lg"],[1,"col-12"],[1,"horizontal-line"],[1,"input-group","input-group-lg","w-25"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","form-control-lg","w-25",3,"ngModel","ngModelChange"],["selected","","value",""],["value","OPEN"],["value","IN_PROGRESS"],["value","DONE"],[1,"col-12","my-5"],[3,"tasks"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Get Things Done."),t.qZA(),t.TgZ(5,"button",4),t._uU(6," + Create Tasks "),t.qZA()(),t.TgZ(7,"div",5),t._UZ(8,"hr",6),t.qZA(),t.TgZ(9,"div",2)(10,"div",7)(11,"input",8),t.NdJ("ngModelChange",function(r){return o.searchChangedHandler(r)}),t.qZA()(),t.TgZ(12,"select",9),t.NdJ("ngModelChange",function(r){return o.statusChangedHandler(r)}),t.TgZ(13,"option",10),t._uU(14,"No Status Filter"),t.qZA(),t.TgZ(15,"option",11),t._uU(16,"Open"),t.qZA(),t.TgZ(17,"option",12),t._uU(18,"In Progress"),t.qZA(),t.TgZ(19,"option",13),t._uU(20,"Done"),t.qZA()()(),t.TgZ(21,"div",14),t._UZ(22,"app-tasks-list",15),t.qZA()()()),2&e&&(t.xp6(11),t.Q6J("ngModel",o.search),t.xp6(1),t.Q6J("ngModel",o.status),t.xp6(10),t.Q6J("tasks",o.tasks))},directives:[h.rH,a.Fj,a.JJ,a.On,a.EJ,a.YN,a.Kr,L],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{height:100vh}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#ebf3fd}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .horizontal-line[_ngcontent-%COMP%]{width:100%;height:4px;border-radius:1rem;background-color:#646e79}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:1.5rem;color:#ebf3fd}"],changeDetection:0}),n})()},{path:"create",component:w}]}];let j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[h.Bz.forChild(Q)],h.Bz]}),n})(),H=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[k],imports:[[p.ez,a.u5,a.UX,j]]}),n})()}}]);